<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="images/gift.png" type="image/x-icon">
  <link rel="stylesheet" href="css/style.css">

  <!-- Document Title -->
  <title>FLOWERS</title>
  <!-- Extra video styling -->
  <style>
#introVideo {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  object-fit: contain;    /* ✅ show whole video */
  object-position: center;
  background: black;      /* black bars fill empty space */
  z-index: 9999;            /* behind text/flowers */
}
  </style>
  
<style>
  .countdown {
  position: fixed;
  top: 60%;
  transform: translateY(-50%);
  font-family: 'Courier New', Courier, monospace;
  font-size: clamp(16px, 2vw, 26px); /* responsive */
  color: #ff69b4; /* Pink glow */
  text-shadow: 0 0 10px #ff69b4, 0 0 20px #ff1493, 0 0 30px #ff69b4;
  padding: clamp(8px, 1.5vw, 14px) clamp(10px, 2vw, 18px);
  background: rgba(0,0,0,0.25);
  border-radius: 16px;
  z-index: 20;
  display: none;
  transition: opacity 0.8s ease;
  opacity: 0;
  text-align: center;
}

#countdown-left { left: 5%; }
#countdown-right { right: 5%; }

.countdown .label {
  font-size: clamp(14px, 1.5vw, 20px);
  opacity: 0.95;
  margin-bottom: 6px;
}

.countdown .time {
  font-size: clamp(16px, 2vw, 24px);
  font-weight: 700;
  letter-spacing: 1px;
}

.show {
  display: block !important;
  opacity: 1 !important;
}
#unmuteBtn {
  position: absolute;
  bottom: 80px;   /* was 20px, moved up */
  right: 20px;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  font-size: 24px;
  background: #ff69b4;
  color: white;
  box-shadow: 0 0 10px #ff69b4, 0 0 20px #ff1493;
  display: none;
  z-index: 10000;
  transition: transform 0.2s ease, box-shadow 0.3s ease, opacity 0.5s ease;
  opacity: 0;
}

#unmuteBtn.show {
  display: block;
  opacity: 1;
}

    #unmuteBtn:hover {
      transform: scale(1.1);
      box-shadow: 0 0 20px #ff69b4, 0 0 40px #ff1493;
    }
</style>
</head>

<body class="not-loaded">
  <!-- Background -->
  <div class="night"></div>

<video id="introVideo" autoplay muted playsinline>
  <source src="video/intro.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video>

<!-- Tap-to-unmute button (only shows if user wants sound) -->
<button id="unmuteBtn">🔊 Tap for Sound</button>

  <!-- Flower -->
  <div class="flowers" style="display: none;">
    <div class="flower flower--1">
      <div class="flower__leafs flower__leafs--1">
        <div class="flower__leaf flower__leaf--1"></div>
        <div class="flower__leaf flower__leaf--2"></div>
        <div class="flower__leaf flower__leaf--3"></div>
        <div class="flower__leaf flower__leaf--4"></div>
        <div class="flower__white-circle"></div>

        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
        <div class="flower__light flower__light--5"></div>
        <div class="flower__light flower__light--6"></div>
        <div class="flower__light flower__light--7"></div>
        <div class="flower__light flower__light--8"></div>

      </div>
      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
        <div class="flower__line__leaf flower__line__leaf--4"></div>
        <div class="flower__line__leaf flower__line__leaf--5"></div>
        <div class="flower__line__leaf flower__line__leaf--6"></div>
      </div>
    </div>

    <div class="flower flower--2">
      <div class="flower__leafs flower__leafs--2">
        <div class="flower__leaf flower__leaf--1"></div>
        <div class="flower__leaf flower__leaf--2"></div>
        <div class="flower__leaf flower__leaf--3"></div>
        <div class="flower__leaf flower__leaf--4"></div>
        <div class="flower__white-circle"></div>

        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
        <div class="flower__light flower__light--5"></div>
        <div class="flower__light flower__light--6"></div>
        <div class="flower__light flower__light--7"></div>
        <div class="flower__light flower__light--8"></div>

      </div>
      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
        <div class="flower__line__leaf flower__line__leaf--4"></div>
      </div>
    </div>

    <div class="flower flower--3">
      <div class="flower__leafs flower__leafs--3">
        <div class="flower__leaf flower__leaf--1"></div>
        <div class="flower__leaf flower__leaf--2"></div>
        <div class="flower__leaf flower__leaf--3"></div>
        <div class="flower__leaf flower__leaf--4"></div>
        <div class="flower__white-circle"></div>

        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
        <div class="flower__light flower__light--5"></div>
        <div class="flower__light flower__light--6"></div>
        <div class="flower__light flower__light--7"></div>
        <div class="flower__light flower__light--8"></div>

      </div>
      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
        <div class="flower__line__leaf flower__line__leaf--4"></div>
      </div>
    </div>

    <div class="grow-ans" style="--d:1.2s">
      <div class="flower__g-long">
        <div class="flower__g-long__top"></div>
        <div class="flower__g-long__bottom"></div>
      </div>
    </div>

    <div class="growing-grass">
      <div class="flower__grass flower__grass--1">
        <div class="flower__grass--top"></div>
        <div class="flower__grass--bottom"></div>
        <div class="flower__grass__leaf flower__grass__leaf--1"></div>
        <div class="flower__grass__leaf flower__grass__leaf--2"></div>
        <div class="flower__grass__leaf flower__grass__leaf--3"></div>
        <div class="flower__grass__leaf flower__grass__leaf--4"></div>
        <div class="flower__grass__leaf flower__grass__leaf--5"></div>
        <div class="flower__grass__leaf flower__grass__leaf--6"></div>
        <div class="flower__grass__leaf flower__grass__leaf--7"></div>
        <div class="flower__grass__leaf flower__grass__leaf--8"></div>
        <div class="flower__grass__overlay"></div>
      </div>
    </div>

    <div class="growing-grass">
      <div class="flower__grass flower__grass--2">
        <div class="flower__grass--top"></div>
        <div class="flower__grass--bottom"></div>
        <div class="flower__grass__leaf flower__grass__leaf--1"></div>
        <div class="flower__grass__leaf flower__grass__leaf--2"></div>
        <div class="flower__grass__leaf flower__grass__leaf--3"></div>
        <div class="flower__grass__leaf flower__grass__leaf--4"></div>
        <div class="flower__grass__leaf flower__grass__leaf--5"></div>
        <div class="flower__grass__leaf flower__grass__leaf--6"></div>
        <div class="flower__grass__leaf flower__grass__leaf--7"></div>
        <div class="flower__grass__leaf flower__grass__leaf--8"></div>
        <div class="flower__grass__overlay"></div>
      </div>
    </div>

    <div class="grow-ans" style="--d:2.4s">
      <div class="flower__g-right flower__g-right--1">
        <div class="leaf"></div>
      </div>
    </div>

    <div class="grow-ans" style="--d:2.8s">
      <div class="flower__g-right flower__g-right--2">
        <div class="leaf"></div>
      </div>
    </div>

    <div class="grow-ans" style="--d:2.8s">
      <div class="flower__g-front">
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--1">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--2">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--3">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--4">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--5">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--6">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--7">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--8">
          <div class="flower__g-front__leaf"></div>
        </div>
        <div class="flower__g-front__line"></div>
      </div>
    </div>

    <div class="grow-ans" style="--d:3.2s">
      <div class="flower__g-fr">
        <div class="leaf"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--1"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--2"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--3"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--4"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--5"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--6"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--7"></div>
        <div class="flower__g-fr__leaf flower__g-fr__leaf--8"></div>
      </div>
    </div>

    <div class="long-g long-g--0">
      <div class="grow-ans" style="--d:3s">
        <div class="leaf leaf--0"></div>
      </div>
      <div class="grow-ans" style="--d:2.2s">
        <div class="leaf leaf--1"></div>
      </div>
      <div class="grow-ans" style="--d:3.4s">
        <div class="leaf leaf--2"></div>
      </div>
      <div class="grow-ans" style="--d:3.6s">
        <div class="leaf leaf--3"></div>
      </div>
    </div>

    <div class="long-g long-g--1">
      <div class="grow-ans" style="--d:3.6s">
        <div class="leaf leaf--0"></div>
      </div>
      <div class="grow-ans" style="--d:3.8s">
        <div class="leaf leaf--1"></div>
      </div>
      <div class="grow-ans" style="--d:4s">
        <div class="leaf leaf--2"></div>
      </div>
      <div class="grow-ans" style="--d:4.2s">
        <div class="leaf leaf--3"></div>
      </div>
    </div>

    <div class="long-g long-g--2">
      <div class="grow-ans" style="--d:4s">
        <div class="leaf leaf--0"></div>
      </div>
      <div class="grow-ans" style="--d:4.2s">
        <div class="leaf leaf--1"></div>
      </div>
      <div class="grow-ans" style="--d:4.4s">
        <div class="leaf leaf--2"></div>
      </div>
      <div class="grow-ans" style="--d:4.6s">
        <div class="leaf leaf--3"></div>
      </div>
    </div>

    <div class="long-g long-g--3">
      <div class="grow-ans" style="--d:4s">
        <div class="leaf leaf--0"></div>
      </div>
      <div class="grow-ans" style="--d:4.2s">
        <div class="leaf leaf--1"></div>
      </div>
      <div class="grow-ans" style="--d:3s">
        <div class="leaf leaf--2"></div>
      </div>
      <div class="grow-ans" style="--d:3.6s">
        <div class="leaf leaf--3"></div>
      </div>
    </div>

    <div class="long-g long-g--4">
      <div class="grow-ans" style="--d:4s">
        <div class="leaf leaf--0"></div>
      </div>
      <div class="grow-ans" style="--d:4.2s">
        <div class="leaf leaf--1"></div>
      </div>
      <div class="grow-ans" style="--d:3s">
        <div class="leaf leaf--2"></div>
      </div>
      <div class="grow-ans" style="--d:3.6s">
        <div class="leaf leaf--3"></div>
      </div>
    </div>

    <div class="long-g long-g--5">
      <div class="grow-ans" style="--d:4s">
        <div class="leaf leaf--0"></div>
      </div>
      <div class="grow-ans" style="--d:4.2s">
        <div class="leaf leaf--1"></div>
      </div>
      <div class="grow-ans" style="--d:3s">
        <div class="leaf leaf--2"></div>
      </div>
      <div class="grow-ans" style="--d:3.6s">
        <div class="leaf leaf--3"></div>
      </div>
    </div>

    <div class="long-g long-g--6">
      <div class="grow-ans" style="--d:4.2s">
        <div class="leaf leaf--0"></div>
      </div>
      <div class="grow-ans" style="--d:4.4s">
        <div class="leaf leaf--1"></div>
      </div>
      <div class="grow-ans" style="--d:4.6s">
        <div class="leaf leaf--2"></div>
      </div>
      <div class="grow-ans" style="--d:4.8s">
        <div class="leaf leaf--3"></div>
      </div>
    </div>

    <div class="long-g long-g--7">
      <div class="grow-ans" style="--d:3s">
        <div class="leaf leaf--0"></div>
      </div>
      <div class="grow-ans" style="--d:3.2s">
        <div class="leaf leaf--1"></div>
      </div>
      <div class="grow-ans" style="--d:3.5s">
        <div class="leaf leaf--2"></div>
      </div>
      <div class="grow-ans" style="--d:3.6s">
        <div class="leaf leaf--3"></div>
      </div>
    </div>
  </div>

  <h1 class="title"><span id="title"></span></h1>
<div id="countdown-left" class="countdown">
  <div class="label">Until Sept 30 🎀💖</div>
  <div class="time">—</div>
</div>

<!-- Countdown Right (8th October) -->
<div id="countdown-right" class="countdown">
  <div class="label">Until Oct 8 🎀💖</div>
  <div class="time">—</div>
</div>
<script src="js/main.js"></script>
<script>
  // Grab elements
  const video = document.getElementById("introVideo");
  const flowers = document.querySelector(".flowers");
  const titleElement = document.getElementById("title");
  const cdLeft  = document.getElementById("countdown-left");
  const cdRight = document.getElementById("countdown-right");
  const unmuteBtn = document.getElementById("unmuteBtn");

  // Keep title hidden until video ends
  titleElement.style.visibility = "hidden";
  titleElement.textContent = "";

  // Your sentence
  const quote = "I know I messed up so much in the past ,Darling. But I promise to make it up to you,one day.Thanks for not being just my friend but also a peaceful home that comforts me. Thanks for all the great memories we made together.Thanks for being the one who made me do all my best and always wanted to be better.You'll always have a special place in my heart,Noury❤🌑." ;

  // ---- Helpers ----
  function typeSentence(text,el, speed, done) {
    let i = 0;
    el.style.visibility = "visible"; // reveal before typing
    function tick() {
      if (i < text.length) {
        el.textContent += text[i++];
        setTimeout(tick, speed);
      } else if (typeof done === "function") {
        done();
      }
    }
    tick();
  }

  function updateCountdown(el, targetMs) {
    const now = Date.now();
    const distance = targetMs - now;
    const timeBox = el.querySelector(".time");
    if (!timeBox) return;

    if (distance <= 0) {
      timeBox.textContent = "🎂 Happy Birthday!";
      return;
    }
    const d = Math.floor(distance / (1000 * 60 * 60 * 24));
    const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const s = Math.floor((distance % (1000 * 60)) / 1000);

    timeBox.textContent = `${d}d ${h}h ${m}m ${s}s`;
  }

  function startCountdowns() {
    cdLeft.classList.add("show");
    cdRight.classList.add("show");

    const bday1 = new Date("September 30, 2025 00:00:00").getTime();
    const bday2 = new Date("October 8, 2025 00:00:00").getTime();

    updateCountdown(cdLeft, bday1);
    updateCountdown(cdRight, bday2);

    setInterval(() => {
      updateCountdown(cdLeft, bday1);
      updateCountdown(cdRight, bday2);
    }, 1000);
  }

  function revealFlowersAndTitleThenCountdowns() {
    flowers.style.display = "block";
    document.body.classList.remove("not-loaded");
    typeSentence(quote, titleElement, 30, startCountdowns);
  }

  // ---- Video flow ----
video.addEventListener("ended", () => {
  // Hide button completely
  unmuteBtn.classList.remove("show");   // remove CSS class
  unmuteBtn.style.display = "none";     // hide from screen
  unmuteBtn.disabled = true;            // prevent any further clicks

  // Hide video and show flowers + text
  video.style.display = "none";
  revealFlowersAndTitleThenCountdowns();
});
  video.addEventListener("error", () => {
    setTimeout(() => {
      video.style.display = "none";
      revealFlowersAndTitleThenCountdowns();
    }, 1000);
  });

  if (video.readyState >= 2 && video.duration && video.currentTime >= video.duration - 0.2) {
    video.style.display = "none";
    revealFlowersAndTitleThenCountdowns();
  }

  // ---- iPhone Safari Fixes ----
unmuteBtn.addEventListener("click", () => {
  if (video.style.display === "none") return; // do nothing if video ended
  video.muted = false;
  video.play();
  unmuteBtn.style.display = "none"; // hide button after unmuting
});

  // Show unmute button once video can play
  video.addEventListener("canplay", () => {
    unmuteBtn.classList.add("show");
  });

  // Handle unmute when button is tapped
  unmuteBtn.addEventListener("click", () => {
    video.muted = false;
    video.play();
    unmuteBtn.style.display = "none";
  });
</script>
</body>
</html>
